<section class="profile">
  <div class="container">
    <div class="row">
      <div class="col-lg-3 col-md-4">
        <app-sidebar />
      </div>
      <div class="col-lg-9 col-md-8">
          <div class="signup-wrap">
            <a [routerLink]="['/home']" class="d-flex align-items-center gap-2 back-arrow"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M10.1 23a1 1 0 0 0 0-1.41L5.5 17h23.55a1 1 0 0 0 0-2H5.53l4.57-4.57A1 1 0 0 0 8.68 9l-6.36 6.37a.9.9 0 0 0 0 1.27L8.68 23a1 1 0 0 0 1.42 0Z" data-name="Layer 2" fill="currentColor" class="fill-000000"></path></svg> Back</a>
            <h3>Change Password</h3>
            <p>Manage your account information effortlessly.</p>
            <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" >
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label for="">Current Password*</label>
                    <div class="position-relative">
                      <input
                        [type]="isOldPasswordVisible ? 'text' : 'password'"
                        class="form-control"
                        id="password"
                        placeholder="Enter old password"
                        formControlName="oldPassword"
                        autocomplete="off"
                      />
                      <button type="button" class="eye-icon" (click)="togglePasswordVisibility('oldPassword')">
                        <svg *ngIf="isOldPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                        </svg>

                        <svg *ngIf="!isOldPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                          <line x1="3" y1="22" x2="21" y2="4" stroke="#24F3EA" stroke-opacity="0.6" stroke-width="2" />
                        </svg>
                      </button>
                    </div>
                    <ng-container *ngIf="passwordForm.get('oldPassword')?.invalid && (passwordForm.get('oldPassword')?.dirty || passwordForm.get('oldPassword')?.touched)">

                      <div *ngIf="passwordForm.get('oldPassword')?.hasError('required')" class="text-danger small">
                        Password is required.
                      </div>

                      <div *ngIf="passwordForm.get('oldPassword')?.hasError('minlength')" class="text-danger small">
                        Password must be at least 6 characters.
                      </div>

                      <div *ngIf="passwordForm.get('oldPassword')?.hasError('maxlength')" class="text-danger small">
                        Password must not exceed 15 characters.
                      </div>

                      <div *ngIf="passwordForm.get('oldPassword')?.hasError('pattern')" class="text-danger small">
                        Password must include uppercase, lowercase, number, and special character.
                      </div>

                    </ng-container>
                  </div>
                  <div class="form-group">
                    <label for="">New Password*</label>
                    <div class="position-relative">
                      <input
                        [type]="isPasswordVisible ? 'text' : 'password'"
                        class="form-control"
                        id="password"
                        placeholder="Enter your password"
                        formControlName="newPassword"
                        autocomplete="off"
                      />
                      <button type="button" class="eye-icon" (click)="togglePasswordVisibility('newPassword')">
                        <svg *ngIf="isPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                        </svg>

                        <svg *ngIf="!isPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                          <line x1="3" y1="22" x2="21" y2="4" stroke="#24F3EA" stroke-opacity="0.6" stroke-width="2" />
                        </svg>
                      </button>
                    </div>
                    <ng-container *ngIf="passwordForm.get('newPassword')?.invalid && (passwordForm.get('newPassword')?.dirty || passwordForm.get('newPassword')?.touched)">

                      <div *ngIf="passwordForm.get('newPassword')?.hasError('required')" class="text-danger small">
                        Password is required.
                      </div>

                      <div *ngIf="passwordForm.get('newPassword')?.hasError('minlength')" class="text-danger small">
                        Password must be at least 6 characters.
                      </div>

                      <div *ngIf="passwordForm.get('newPassword')?.hasError('maxlength')" class="text-danger small">
                        Password must not exceed 15 characters.
                      </div>

                      <div *ngIf="passwordForm.get('newPassword')?.hasError('pattern')" class="text-danger small">
                        Password must include uppercase, lowercase, number, and special character.
                      </div>

                    </ng-container>
                  </div>
                  <div class="form-group">
                    <label for="">Confirm Password*</label>
                    <div class="position-relative">
                      <input [type]="isConfirmPasswordVisible ? 'text' : 'password'" class="form-control" id="confirmPassword" placeholder="Enter your password" formControlName="confirmPassword" autocomplete="off">
                      <button type="button" class="eye-icon" (click)="togglePasswordVisibility('confirmPassword')">
                        <svg *ngIf="isConfirmPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                        </svg>

                        <svg *ngIf="!isConfirmPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                          <line x1="3" y1="22" x2="21" y2="4" stroke="#24F3EA" stroke-opacity="0.6" stroke-width="2" />
                        </svg>
                      </button>
                    </div>
                    <ng-container *ngIf="passwordForm.get('confirmPassword')?.invalid && (passwordForm.get('confirmPassword')?.dirty || passwordForm.get('confirmPassword')?.touched)">

                      <div *ngIf="passwordForm.get('confirmPassword')?.hasError('required')" class="text-danger small">
                        Confirm Password is required.
                      </div>

                      <div *ngIf="passwordForm.get('confirmPassword')?.hasError('minlength')" class="text-danger small">
                        Password must be at least 6 characters.
                      </div>

                      <div *ngIf="passwordForm.get('confirmPassword')?.hasError('maxlength')" class="text-danger small">
                        Password must not exceed 15 characters.
                      </div>

                      <div *ngIf="passwordForm.get('confirmPassword')?.hasError('pattern')" class="text-danger small">
                        Password must include uppercase, lowercase, number, and special character.
                      </div>

                    </ng-container>
                  </div>
                </div>

                <div class="col-md-12 text-center mt-3">
                    <button type="submit"
                          [ngClass]="{'btn btn-primary': passwordForm.valid, 'btn btn-secondary cursor-not-allowed': !passwordForm.valid}"
                          [disabled]="!passwordForm.valid"
                          class="submit-btn w-auto mb-0 mx-auto">Change Password</button>
                </div>
              </div>
            </form>
          </div>
      </div>
    </div>
  </div>
</section>
