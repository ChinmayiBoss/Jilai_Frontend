<section>
    <div class="container">
        <div class="d-flex align-items-center justify-content-between flex-column login-main">
            <a>
              <img src="assets/images/jilai-login.png" alt="logo" class="img-fluid " width="124" height="52">
            </a>
              <div class="signup-wrap mt-4 mb-4">
                <h3>Create New Password</h3>
                <p>Choose a strong password to keep your account secure</p>
                <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" >
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="form-group">
                        <label for="password">Password <span class="mandatory">*</span></label>
                        <div class="position-relative">
                        <input
                          [type]="isPasswordVisible ? 'text' : 'password'"
                          class="form-control"
                          id="password"
                          placeholder="Enter your password"
                          formControlName="password"
                          autocomplete="off"
                        />
                        <button type="button" class="eye-icon" (click)="togglePasswordVisibility('password')">
                          <svg *ngIf="isPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                          </svg>

                          <svg *ngIf="!isPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                            <line x1="3" y1="22" x2="21" y2="4" stroke="#24F3EA" stroke-opacity="0.6" stroke-width="2" />
                          </svg>

                      </button>
                    </div>

                        <ng-container *ngIf="passwordForm.get('password')?.invalid && (passwordForm.get('password')?.dirty || passwordForm.get('password')?.touched)">

                          <div *ngIf="passwordForm.get('password')?.hasError('required')" class="text-danger small">
                            Password is required.
                          </div>

                          <div *ngIf="passwordForm.get('password')?.hasError('minlength')" class="text-danger small">
                            Password must be at least 6 characters.
                          </div>

                          <div *ngIf="passwordForm.get('password')?.hasError('maxlength')" class="text-danger small">
                            Password must not exceed 15 characters.
                          </div>

                          <div *ngIf="passwordForm.get('password')?.hasError('pattern')" class="text-danger small">
                            Password must include uppercase, lowercase, number, and special character.
                          </div>

                        </ng-container>
                      </div>
                      <div class="form-group pb-2">
                        <label for="confirmPassword">Confirm Password <span class="mandatory">*</span></label>
                        <div class="position-relative">
                        <input [type]="isConfirmPasswordVisible ? 'text' : 'password'" class="form-control" id="confirmPassword" placeholder="Enter your password" formControlName="confirmPassword" autocomplete="off">
                        <button type="button" class="eye-icon" (click)="togglePasswordVisibility('confirmPassword')">
                          <svg *ngIf="isConfirmPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                          </svg>

                          <svg *ngIf="!isConfirmPasswordVisible" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.97238 7.58179C7.55902 6.34312 9.60878 5.29065 12 5.29065C14.3913 5.29065 16.4409 6.34312 18.0276 7.58179C19.6157 8.82159 20.7895 10.2858 21.4461 11.2065L21.4956 11.2755C21.7312 11.603 22 11.977 22 12.5C22 13.0229 21.7312 13.3969 21.4956 13.7244L21.4461 13.7934C20.7895 14.7142 19.6157 16.1783 18.0276 17.4181C16.4409 18.6568 14.3913 19.7093 12 19.7093C9.60878 19.7093 7.55902 18.6568 5.97238 17.4181C4.38431 16.1783 3.21047 14.7142 2.55387 13.7934L2.50436 13.7244C2.26887 13.3969 2 13.0229 2 12.5C2 11.977 2.26887 11.603 2.50436 11.2755L2.55387 11.2065C3.21047 10.2858 4.38431 8.82159 5.97238 7.58179ZM8.74419 12.5C8.74419 14.2981 10.2019 15.7558 12 15.7558C13.7981 15.7558 15.2558 14.2981 15.2558 12.5C15.2558 10.7018 13.7981 9.24414 12 9.24414C10.2019 9.24414 8.74419 10.7018 8.74419 12.5Z" fill="#24F3EA" fill-opacity="0.4"/>
                            <line x1="3" y1="22" x2="21" y2="4" stroke="#24F3EA" stroke-opacity="0.6" stroke-width="2" />
                          </svg>
                        </button>
                      </div>
                        <ng-container *ngIf="passwordForm.get('confirmPassword')?.invalid && (passwordForm.get('confirmPassword')?.dirty || passwordForm.get('confirmPassword')?.touched)">

                          <div *ngIf="passwordForm.get('confirmPassword')?.hasError('required')" class="text-danger small">
                            Confirm Password is required.
                          </div>

                          <div *ngIf="passwordForm.get('confirmPassword')?.hasError('minlength')" class="text-danger small">
                            Password must be at least 6 characters.
                          </div>

                          <div *ngIf="passwordForm.get('confirmPassword')?.hasError('maxlength')" class="text-danger small">
                            Password must not exceed 15 characters.
                          </div>

                          <div *ngIf="passwordForm.get('confirmPassword')?.hasError('pattern')" class="text-danger small">
                            Password must include uppercase, lowercase, number, and special character.
                          </div>

                        </ng-container>
                      </div>
                      <div>
                        <button type="submit"
                          [ngClass]="{'btn btn-primary': passwordForm.valid, 'btn btn-secondary cursor-not-allowed': !passwordForm.valid}"
                          [disabled]="!passwordForm.valid"
                          class="submit-btn w-100 mb-0">Reset & Login</button>
                      </div>
                    </div>
                  </div>

                </form>
              </div>
              <p class="copywrites">
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                <g clip-path="url(#clip0_275_774)">
                  <path d="M17 9.00073C17 13.1428 13.6421 16.5007 9.5 16.5007C5.35786 16.5007 2 13.1428 2 9.00073C2 4.85859 5.35786 1.50073 9.5 1.50073C13.6421 1.50073 17 4.85859 17 9.00073Z" stroke="white" stroke-width="1.17"/>
                  <path d="M11.75 10.5007C11.75 11.3292 11.0784 12.0007 10.25 12.0007H9.5C8.80107 12.0007 8.45165 12.0007 8.17595 11.8866C7.80844 11.7343 7.51642 11.4423 7.36418 11.0748C7.25 10.7991 7.25 10.4497 7.25 9.75073V8.25073C7.25 7.55181 7.25 7.20237 7.36418 6.9267C7.51642 6.55917 7.80844 6.26715 8.17595 6.11491C8.45165 6.00073 8.80107 6.00073 9.5 6.00073H10.25C11.0784 6.00073 11.75 6.6723 11.75 7.50073" stroke="white" stroke-width="1.17" stroke-linecap="round"/>
                </g>
                <defs>
                  <clipPath id="clip0_275_774">
                    <rect width="18" height="18" fill="white" transform="translate(0.5 0.000732422)"/>
                  </clipPath>
                </defs>
              </svg>
              2025 Copyrights by JILAI Rights Reserved.
            </p>
        </div>
      </div>
</section>
